<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Archive | Precision Engineering</title>
    
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>

    <style>
        :root {
            --bg: #ffffff;
            --card-bg: #fbfbfd;
            --text-main: #1d1d1f;
            --text-sub: #86868b;
            --accent: #a10000; /* choose accent color */
            --border: #d2d2d7;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Helvetica Neue", Arial, sans-serif;
            background-color: var(--bg);
            color: var(--text-main);
            margin: 0;
            padding: 0;
            -webkit-font-smoothing: antialiased;
        }

        /* Technical Header */
        header {
            padding: 100px 20px 60px 20px;
            max-width: 1200px;
            margin: 0 auto;
            border-bottom: 1px solid var(--border);
        }

        .eyebrow {
            text-transform: uppercase;
            font-size: 11px;
            font-weight: 700;
            letter-spacing: 0.2em;
            color: var(--accent);
            margin-bottom: 12px;
            display: block;
        }

        h1 {
            font-size: 56px;
            font-weight: 600;
            letter-spacing: -0.03em;
            margin: 0;
        }

        .subtitle {
            color: var(--text-sub);
            font-size: 20px;
            margin-top: 15px;
            max-width: 650px;
            line-height: 1.4;
        }

        /* Portfolio Grid (Dieter Rams Style) */
        .portfolio-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 1px;
            background-color: var(--border);
            border-bottom: 1px solid var(--border);
        }

        .model-card {
            background: var(--bg);
            padding: 80px 50px;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        /* 3D Viewer Area */
        model-viewer {
            width: 100%;
            height: 400px;
            background-color: transparent;
            outline: none;
            position: relative;
        }

        /* Configurator Controls */
        .controls {
            position: absolute;
            bottom: 10px;
            right: 0;
            display: flex;
            gap: 12px;
            z-index: 10;
        }

        .controls button {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 1px solid var(--border);
            cursor: pointer;
            transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .controls button:hover {
            transform: scale(1.3);
        }

        /* Info Section */
        .model-info {
            margin-top: 40px;
        }

        .model-meta {
            font-family: "SF Mono", "Roboto Mono", monospace;
            font-size: 12px;
            color: var(--text-sub);
            letter-spacing: 0.05em;
        }

        h2 {
            font-size: 28px;
            font-weight: 500;
            margin: 10px 0;
            letter-spacing: -0.01em;
        }

        p {
            color: var(--text-sub);
            line-height: 1.6;
            font-size: 16px;
            max-width: 400px;
        }

        /* Loading Bar */
        .progress-bar {
            height: 2px;
            width: 100%;
            background: #f0f0f0;
            position: absolute;
            bottom: 0;
        }

        .update-bar {
            background: var(--accent);
            height: 100%;
            width: 0%;
            transition: width 0.3s;
        }

        footer {
            padding: 80px 20px;
            text-align: center;
            font-size: 11px;
            color: var(--text-sub);
            letter-spacing: 0.3em;
            text-transform: uppercase;
        }

        @media (max-width: 768px) {
            h1 { font-size: 38px; }
            .portfolio-grid { grid-template-columns: 1fr; }
            .model-card { padding: 40px 20px; }
        }
    </style>
</head>
<body>

    <header>
        <span class="eyebrow">Visual Archive / v1.0</span>
        <h1>Engineering Portfolio</h1>
        <p class="subtitle">A collection of precision-modeled assets. Explore material properties and structural integrity via the interactive viewer.</p>
    </header>

    <div class="portfolio-grid">
        
        <div class="model-card">
            <span class="model-meta">ID_001 // AERODYNAMICS</span>
            <model-viewer id="m1" src="assets/f527_small.glb" camera-controls auto-rotate shadow-intensity="0" environment-image="neutral" exposure="1">
                <div class="progress-bar" slot="progress-bar"><div class="update-bar"></div></div>
                <div class="controls">
                    <button onclick="applyMat('m1', '#d1d1d1', 1, 0.2)" style="background: #d1d1d1;" title="Aluminium"></button>
                    <button onclick="applyMat('m1', '#00a19c', 0.6, 0.3)" style="background: #00a19c;" title="Petronas"></button>
                    <button onclick="applyMat('m1', '#1a1a1a', 0.2, 0.8)" style="background: #1a1a1a;" title="Matte"></button>
                </div>
            </model-viewer>
            <div class="model-info">
                <h2>Front Wing Assembly</h2>
                <p>Refined surfacing for high-velocity stability and optimized downforce distribution.</p>
            </div>
        </div>

        <div class="model-card">
            <span class="model-meta">ID_002 // STRUCTURE</span>
            <model-viewer id="m2" src="assets/mh24_small.glb" camera-controls auto-rotate shadow-intensity="0" environment-image="neutral" exposure="1">
                <div class="progress-bar" slot="progress-bar"><div class="update-bar"></div></div>
                <div class="controls">
                    <button onclick="applyMat('m2', '#d1d1d1', 1, 0.2)" style="background: #d1d1d1;"></button>
                    <button onclick="applyMat('m2', '#00a19c', 0.6, 0.3)" style="background: #00a19c;"></button>
                    <button onclick="applyMat('m2', '#1a1a1a', 0.2, 0.8)" style="background: #1a1a1a;"></button>
                </div>
            </model-viewer>
            <div class="model-info">
                <h2>Chassis Interface</h2>
                <p>Minimalist structural design focusing on the core principles of functional utility.</p>
            </div>
        </div>

        <div class="model-card">
            <span class="model-meta">ID_003 // KINETICS</span>
            <model-viewer id="m3" src="assets/ad25_small.glb" camera-controls auto-rotate shadow-intensity="0" environment-image="neutral" exposure="1">
                <div class="progress-bar" slot="progress-bar"><div class="update-bar"></div></div>
                <div class="controls">
                    <button onclick="applyMat('m3', '#d1d1d1', 1, 0.2)" style="background: #d1d1d1;"></button>
                    <button onclick="applyMat('m3', '#00a19c', 0.6, 0.3)" style="background: #00a19c;"></button>
                    <button onclick="applyMat('m3', '#1a1a1a', 0.2, 0.8)" style="background: #1a1a1a;"></button>
                </div>
            </model-viewer>
            <div class="model-info">
                <h2>Mechanical Hub</h2>
                <p>Exploration of rotational symmetry and high-tolerance mechanical fits.</p>
            </div>
        </div>

    </div>

    <footer>
        &copy; 2026 / Precision and Utility / Encrypted Session
    </footer>

    <script>
        // Progress bar logic
        const onProgress = (event) => {
            const updatingBar = event.target.querySelector('.update-bar');
            updatingBar.style.width = `${event.detail.totalProgress * 100}%`;
            if (event.detail.totalProgress === 1) {
                setTimeout(() => { updatingBar.parentElement.style.display = 'none'; }, 500);
            }
        };

        // Material Configurator logic
        function applyMat(vid, hex, metal, rough) {
            const viewer = document.getElementById(vid);
            if (!viewer.model) return;
            viewer.model.materials.forEach(mat => {
                mat.pbrMetallicRoughness.setBaseColorFactor(hex);
                mat.pbrMetallicRoughness.setMetallicFactor(metal);
                mat.pbrMetallicRoughness.setRoughnessFactor(rough);
            });
        }

        document.querySelectorAll('model-viewer').forEach((el) => {
            el.addEventListener('progress', onProgress);
        });
    </script>

</body>
</html>